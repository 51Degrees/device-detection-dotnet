trigger:
  - master
  - develop
  - release/*

# Don't trigger for a pull request
pr: none

resources:
  repositories:
    - repository: ciTemplates # Id of the repository used to reference to in this script
      type: git
      name: common-ci # Name of the actual repository

# Use shared variables
variables:
- template: shared-variables.yml
- template: shared-variables.yml@ciTemplates

stages:
# Build source and create packages
- template: shared-create-packages-stage.yml
  parameters:
    nugetVersion: $(nugetVersion)
    imageName: $(windowsImage)
    linuxImage: $(linuxImage)
    targetPublishConfig: 'Release'
    templates: 'ciTemplates'